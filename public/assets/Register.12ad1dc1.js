var w=Object.defineProperty;var E=(p,e,s)=>e in p?w(p,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[e]=s;var i=(p,e,s)=>(E(p,typeof e!="symbol"?e+"":e,s),s);import{M as k,d as x,u as S,y as q,m as L,q as Q,r as z,c as A,g as c,w as y,k as a,I as C,s as N,o as B,b as t,h as _,J as f,L as g}from"./index.f718b679.js";import{c as I,a as v}from"./object.a9d688fa.js";import{S as j}from"./sweetalert2.all.59526288.js";const b={minLength:8,checkUppercase:!0,checkLowercase:!0,checkDigit:!0,checkChar:!0,scoreHighlightClass:"active"},m={componentName:"password-meter",instanseQuery:"[data-kt-password-meter]",inputQuery:"input[type]",visibilityQuery:'[data-kt-password-meter-control="visibility"]',highlightQuery:'[data-kt-password-meter-control="highlight"]'},h=class{constructor(e,s,o){i(this,"element");i(this,"inputElement");i(this,"visibilityElement");i(this,"highlightElement");i(this,"options");i(this,"queries");i(this,"score");i(this,"checkSteps");i(this,"reset",()=>{this.score=0,this.highlight()});this.element=e,this.options=Object.assign(b,s),this.queries=o,this.score=0,this.checkSteps=5,this.inputElement=this.element.querySelector(this.queries.inputQuery),this.visibilityElement=this.element.querySelector(this.queries.visibilityQuery),this.highlightElement=this.element.querySelector(this.queries.highlightQuery),this.handlers(),k.set(this.element,this.queries.componentName,this)}handlers(){this.inputElement&&this.inputElement.addEventListener("input",()=>{this.check()}),this.visibilityElement&&this.visibilityElement.addEventListener("click",()=>{this.visitbility()})}visitbility(){if(this.visibilityElement&&this.inputElement){const e=this.visibilityElement.querySelector("i:not(.d-none), .svg-icon:not(.d-none)"),s=this.visibilityElement.querySelector("i.d-none, .svg-icon.d-none");(this.inputElement.getAttribute("type")||"")==="password"?this.inputElement.setAttribute("type","text"):this.inputElement.setAttribute("type","password"),e==null||e.classList.add("d-none"),s==null||s.classList.remove("d-none"),this.inputElement.focus()}}checkScore(){return 0}checkLength(){return this.inputElement?this.inputElement.value.length>=this.options.minLength:!1}checkLowerCase(){const e=this.inputElement?this.inputElement.value:"";return/[a-z]/.test(e)}checkUppercase(){const e=this.inputElement?this.inputElement.value:"";return/[A-Z]/.test(e)}checkDigit(){const e=this.inputElement?this.inputElement.value:"";return/[0-9]/.test(e)}checkChar(){const e=this.inputElement?this.inputElement.value:"";return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(e)}getCheckScore(){let e=1;return this.options.checkUppercase&&e++,this.options.checkLowercase&&e++,this.options.checkDigit&&e++,this.options.checkChar&&e++,this.checkSteps=e,100/this.checkSteps}highlight(){const e=this.highlightElement?[].slice.call(this.highlightElement.querySelectorAll("div")):[],s=e.length;let o=0;const d=this.getCheckScore(),r=this.getScore();e.map(n=>{o++,d*o*(this.checkSteps/s)<=r?n.classList.add("active"):n.classList.remove("active")})}getScore(){return this.score}check(){let e=0;const s=this.getCheckScore();this.checkLength()&&(e=e+s),this.options.checkUppercase&&this.checkLowerCase()&&(e=e+s),this.options.checkLowercase&&this.checkUppercase()&&(e=e+s),this.options.checkDigit&&this.checkDigit()&&(e=e+s),this.options.checkChar&&this.checkChar()&&(e=e+s),this.score=e,this.highlight()}};let l=h;i(l,"getInstance",(e,s=m.componentName)=>{const o=k.get(e,s);if(o)return o}),i(l,"createInstances",(e=m.instanseQuery,s=b,o=m)=>{document.body.querySelectorAll(e).forEach(r=>{const n=r;let u=h.getInstance(n);u||(u=new h(n,s,o))})}),i(l,"createInsance",(e=m.instanseQuery,s=b,o=m)=>{const d=document.body.querySelector(e);if(!d)return;const r=d;let n=h.getInstance(r);return n||(n=new h(r,s,o)),n}),i(l,"bootstrap",(e=m.instanseQuery)=>{h.createInstances(e)}),i(l,"reinitialization",(e=m.instanseQuery)=>{h.createInstances(e)});const D={class:"w-lg-500px p-10"},U={class:"mb-10 text-center"},F=t("h1",{class:"text-dark mb-3"},"Stw\xF3rz konto",-1),M={class:"text-gray-400 fw-bold fs-4"},R={class:"row fv-row mb-7"},T={class:"col-xl-6"},V=t("label",{class:"form-label fw-bolder text-dark fs-6"},"Imi\u0119",-1),H={class:"fv-plugins-message-container"},O={class:"fv-help-block"},Z={class:"col-xl-6"},$=t("label",{class:"form-label fw-bolder text-dark fs-6"},"Nazwisko",-1),J={class:"fv-plugins-message-container"},K={class:"fv-help-block"},G={class:"fv-row mb-7"},W=t("label",{class:"form-label fw-bolder text-dark fs-6"},"Email",-1),X={class:"fv-plugins-message-container"},Y={class:"fv-help-block"},P={class:"mb-10 fv-row","data-kt-password-meter":"true"},ee={class:"mb-1"},te=t("label",{class:"form-label fw-bolder text-dark fs-6"},"Has\u0142o",-1),se={class:"position-relative mb-3"},ie={class:"fv-plugins-message-container"},oe={class:"fv-help-block"},ne=t("div",{class:"d-flex align-items-center mb-3","data-kt-password-meter-control":"highlight"},[t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px"})],-1),ce=t("div",{class:"text-muted"}," Silne has\u0142o powinno zawiera\u0107 min. 8 znak\xF3w (w tym liczby i znaki specjalne). ",-1),ae={class:"text-center"},re=t("span",{class:"indicator-label"}," Kontynuuj ",-1),le=t("span",{class:"indicator-progress"},[_(" Prosz\u0119 czeka\u0107... "),t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),he=[re,le],fe=x({__name:"Register",setup(p){const e=S(),s=q(null),o=I().shape({first_name:v().required().label("Name"),last_name:v().required().label("Surname"),email:v().required().email().label("Email"),password:v().required().min(8).label("Password")});L(()=>{Q(()=>{l.bootstrap()})});function d(r){s.value&&(s.value.disabled=!0,s.value.setAttribute("data-kt-indicator","on")),N.dispatch("auth/register",r).then(()=>{e.push({name:"home"})}).catch(n=>{var u;j.fire({text:n.response.data.message,icon:"error",buttonsStyling:!1,confirmButtonText:"Spr\xF3buj ponownie!",customClass:{confirmButton:"btn fw-bold btn-light-danger"}}),(u=s.value)==null||u.removeAttribute("data-kt-indicator"),s.value.disabled=!1})}return(r,n)=>{const u=z("router-link");return B(),A("div",D,[c(a(C),{class:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",novalidate:"novalidate",onSubmit:d,id:"kt_login_signup_form","validation-schema":a(o)},{default:y(()=>[t("div",U,[F,t("div",M,[_(" Masz ju\u017C konto? "),c(u,{to:"/login",class:"link-primary fw-bolder"},{default:y(()=>[_(" Zaloguj si\u0119 ")]),_:1})])]),t("div",R,[t("div",T,[V,c(a(f),{class:"form-control form-control-lg form-control-solid",type:"text",placeholder:"",name:"first_name",autocomplete:"off"}),t("div",H,[t("div",O,[c(a(g),{name:"first_name"})])])]),t("div",Z,[$,c(a(f),{class:"form-control form-control-lg form-control-solid",type:"text",placeholder:"",name:"last_name",autocomplete:"off"}),t("div",J,[t("div",K,[c(a(g),{name:"last_name"})])])])]),t("div",G,[W,c(a(f),{class:"form-control form-control-lg form-control-solid",type:"email",placeholder:"",name:"email",autocomplete:"off"}),t("div",X,[t("div",Y,[c(a(g),{name:"email"})])])]),t("div",P,[t("div",ee,[te,t("div",se,[c(a(f),{class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password",autocomplete:"off"}),t("div",ie,[t("div",oe,[c(a(g),{name:"password"})])])]),ne]),ce]),t("div",ae,[t("button",{id:"kt_sign_up_submit",ref_key:"submitButton",ref:s,type:"submit",class:"btn btn-lg btn-primary w-100"},he,512)])]),_:1},8,["validation-schema"])])}}});export{fe as default};
